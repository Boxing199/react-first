(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),c=a.n(o),s=a(6),l=a(13),p=a.n(l),u=a(17),i=a(3),g=a(4),v=a(18),h={items:[],sort:"popularity",year:"2019",page:"1",total_pages:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RESULT":return Object(i.a)({},e,{items:t.result.results});case"CHANGE_SORT":return Object(i.a)({},e,{sort:t.valueSort});case"CHANGE_YEAR":return Object(i.a)({},e,{year:t.valueYear});case"CHANGE_PAGE":return Object(i.a)({},e,{page:t.page});case"GET_TOTAL_PAGES":return Object(i.a)({},e,{total_pages:t.totalPages.total_pages});default:return console.log(e),e}};var m=Object(g.c)(f,h,Object(g.a)(v.a)),E=a(19),b=a(20),d=a(22),y=a(21),_=a(23),O=a(14),A=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(_.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoves(this.props.sort,this.props.year,this.props.page),this.props.getTotalPages()}},{key:"componentDidUpdate",value:function(e){this.props.sort===e.sort&&this.props.year===e.year&&this.props.page===e.page||this.props.getMoves(this.props.sort,this.props.year,this.props.page)}},{key:"render",value:function(){for(var e=this,t=[],a=(new Date).getFullYear(),n=2009;n<=a;n++)t.push({value:n,label:n});for(var o=[],c=1;c<=10;c++)o.push(c);for(var s=[],l=1;l<=this.props.total_pages;l++)s.push(l);return console.log(s),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(O.a,{onChange:function(t){e.props.changeSort(t.value)},options:[{value:"release_date",label:"release date"},{value:"popularity",label:"popularity"},{value:"revenue",label:"revenue"},{value:"vote_average",label:"vote average"}]})),r.a.createElement("div",null,r.a.createElement(O.a,{onChange:function(t){e.props.changeYear(t.value)},options:t})),r.a.createElement("ul",null,this.props.items.map(function(e,t){return r.a.createElement("li",{key:t},e.title,r.a.createElement("br",null),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(e.backdrop_path),alt:"img"}))})),r.a.createElement("div",null,r.a.createElement("ul",null,o.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("button",{type:"button",onClick:function(){return e.props.changePage(t)}},t))}))))}}]),t}(n.Component),j={getMoves:function(e,t,a){return function(){var n=Object(u.a)(p.a.mark(function n(r){var o,c,s;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o="".concat("https://api.themoviedb.org/3/","discover/movie?api_key=60c4a3ee893cd1db3cfe5838953ce4c1&language=en-US&sort_by=").concat(e,".desc&include_adult=false&include_video=false&page=").concat(a,"&year=").concat(t),n.next=4,fetch(o);case 4:return c=n.sent,n.next=7,c.json();case 7:s=n.sent,r({type:"ADD_RESULT",result:s}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("ERROR!");case 14:case"end":return n.stop()}},n,null,[[0,11]])}));return function(e){return n.apply(this,arguments)}}()},data:f,changeSort:function(e){return{type:"CHANGE_SORT",valueSort:e}},changeYear:function(e){return{type:"CHANGE_YEAR",valueYear:e}},changePage:function(e){return{type:"CHANGE_PAGE",page:e}},getTotalPages:function(e){return{type:"GET_TOTAL_PAGES",totalPages:e}}},k=Object(s.b)(function(e){return{items:e.items,sort:e.sort,year:e.year,page:e.page,total_pages:e.total_pages}},j)(A);a(36);c.a.render(r.a.createElement(s.a,{store:m},r.a.createElement(k,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.696122f1.chunk.js.map