(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(2),s=a.n(o),p=a(6),c=a(13),u=a.n(c),l=a(17),i=a(5),h=a(3),v=a(18),g={items:[],sort:"popularity",year:"2019",page:"1",total_pages:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RESULT":return Object(i.a)({},e,{items:t.result.results,total_pages:t.result.total_pages});case"CHANGE_SORT":return Object(i.a)({},e,{sort:t.valueSort});case"CHANGE_YEAR":return Object(i.a)({},e,{year:t.valueYear});case"CHANGE_PAGE":return Object(i.a)({},e,{page:t.page});default:return e}};var m=Object(h.c)(f,g,Object(h.a)(v.a)),d=a(19),b=a(20),y=a(22),E=a(21),_=a(23),O=a(14),j=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(_.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoves(this.props.sort,this.props.year,this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.sort===e.sort&&this.props.year===e.year&&this.props.page===e.page||this.props.getMoves(this.props.sort,this.props.year,this.props.page)}},{key:"render",value:function(){for(var e=this,t=[],a=(new Date).getFullYear(),r=2009;r<=a;r++)t.push({value:r,label:r});for(var o=[],s=this.props.total_pages,p=0;p<=s;p++)o.push(p);var c=[],u=this.props.page;if(u<6){for(var l=1;l<=7;l++)c.push(l);c.push("...",s-1,s)}else if(u<=7){for(var i=1;i<=10;i++)c.push(i);c.push("...",s-1,s)}else if(u>=8&&u<=s-7){c.push(1,2,"...");for(var h=u-3;h<=u+3;h++)c.push(h);c.push("...",s-1,s)}else if(u===s-6){c.push(1,2,"...");for(var v=s-10;v<=s;v++)c.push(v)}else if(u>s-6){c.push(1,2,"...");for(var g=s-6;g<=s;g++)c.push(g)}return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(O.a,{onChange:function(t){e.props.changeSort(t.value)},options:[{value:"release_date",label:"release date"},{value:"popularity",label:"popularity"},{value:"revenue",label:"revenue"},{value:"vote_average",label:"vote average"}]})),n.a.createElement("div",null,n.a.createElement(O.a,{onChange:function(t){e.props.changeYear(t.value)},options:t})),n.a.createElement("ul",null,this.props.items.map(function(e,t){return n.a.createElement("li",{key:t},e.title,n.a.createElement("br",null),n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(e.backdrop_path),alt:"img"}))})),n.a.createElement("div",null,n.a.createElement("ul",{className:"pagination"},c.map(function(t,a){return n.a.createElement("li",{key:a},n.a.createElement("button",{type:"button",onClick:function(){"..."!==t&&e.props.changePage(t)}},t))}))))}}]),t}(r.Component),A={getMoves:function(e,t,a){return function(){var r=Object(l.a)(u.a.mark(function r(n){var o,s,p;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o="".concat("https://api.themoviedb.org/3/","discover/movie?api_key=60c4a3ee893cd1db3cfe5838953ce4c1&language=en-US&sort_by=").concat(e,".desc&include_adult=false&include_video=false&page=").concat(a,"&year=").concat(t),r.next=4,fetch(o);case 4:return s=r.sent,r.next=7,s.json();case 7:p=r.sent,n({type:"ADD_RESULT",result:p}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log("ERROR!");case 14:case"end":return r.stop()}},r,null,[[0,11]])}));return function(e){return r.apply(this,arguments)}}()},data:f,changeSort:function(e){return{type:"CHANGE_SORT",valueSort:e}},changeYear:function(e){return{type:"CHANGE_YEAR",valueYear:e}},changePage:function(e){return{type:"CHANGE_PAGE",page:e}}},k=Object(p.b)(function(e){return{items:e.items,sort:e.sort,year:e.year,page:e.page,total_pages:e.total_pages}},A)(j);a(36);s.a.render(n.a.createElement(p.a,{store:m},n.a.createElement(k,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8ec818d4.chunk.js.map