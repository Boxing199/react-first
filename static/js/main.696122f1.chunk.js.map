{"version":3,"sources":["redux.js","App.js","AppContainer.js","index.js"],"names":["initialState","items","sort","year","page","total_pages","data","state","arguments","length","undefined","action","type","Object","objectSpread","result","results","valueSort","valueYear","totalPages","console","log","store","createStore","applyMiddleware","thunk","App","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","inherits","createClass","key","value","props","getMoves","getTotalPages","prevProps","_this2","years","currentYear","Date","getFullYear","i","push","label","pages","allPages","react_default","a","createElement","react_select_browser_esm","onChange","changeSort","options","changeYear","map","item","index","title","src","backdrop_path","alt","onClick","changePage","Component","mapDispatchToProps","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","url","response","responseBody","wrap","_context","prev","next","fetch","sent","json","t0","stop","_x","AppContainer","connect","ReactDOM","render","es","document","getElementById"],"mappings":"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","file":"static/js/main.696122f1.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nexport const ADD_RESULT = 'ADD_RESULT';\nexport const CHANGE_SORT = 'CHANGE_SORT';\nexport const CHANGE_YEAR = 'CHANGE_YEAR';\nexport const CHANGE_PAGE = 'CHANGE_PAGE';\nexport const GET_TOTAL_PAGES = 'GET_TOTAL_PAGES';\n\nexport const addResult = result => ({\n  type: ADD_RESULT,\n  result,\n});\nexport const changeSort = valueSort => ({\n  type: CHANGE_SORT,\n  valueSort,\n});\nexport const changeYear = valueYear => ({\n  type: CHANGE_YEAR,\n  valueYear,\n});\nexport const changePage = page => ({\n  type: CHANGE_PAGE,\n  page,\n});\nexport const getTotalPages = totalPages => ({\n  type: GET_TOTAL_PAGES,\n  totalPages,\n});\nexport const initialState = {\n  items: [],\n  sort: 'popularity',\n  year: '2019',\n  page: '1',\n  total_pages: '',\n};\nexport const data = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_RESULT':\n      return { ...state, items: action.result.results };\n    case 'CHANGE_SORT':\n      return { ...state, sort: action.valueSort };\n    case 'CHANGE_YEAR':\n      return { ...state, year: action.valueYear };\n    case 'CHANGE_PAGE':\n      return { ...state, page: action.page };\n    case 'GET_TOTAL_PAGES':\n      return { ...state, total_pages: action.totalPages.total_pages };\n    default:\n      console.log(state);\n      return state;\n  }\n};\nexport const apiUrl = 'https://api.themoviedb.org/3/';\nexport const getMoves = (sort, year, page) => async (dispatch) => {\n  try {\n    const url = `${apiUrl}discover/movie?api_key=60c4a3ee893cd1db3cfe5838953ce4c1&language=en-US&sort_by=${sort}.desc&include_adult=false&include_video=false&page=${page}&year=${year}`;\n    const response = await fetch(url);\n    const responseBody = await response.json();\n    dispatch(addResult(responseBody));\n  } catch {\n    console.log('ERROR!');\n  }\n};\nexport function configureStore() {\n  const store = createStore(data, initialState, applyMiddleware(thunk));\n  return store;\n}\nexport const store = configureStore();\n","import React, { Component } from 'react';\nimport Select from 'react-select';\n\nexport class App extends Component {\n  state = {};\n\n  componentDidMount() {\n    this.props.getMoves(this.props.sort, this.props.year, this.props.page);\n    this.props.getTotalPages();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.sort !== prevProps.sort || this.props.year !== prevProps.year || this.props.page !== prevProps.page) {\n      this.props.getMoves(this.props.sort, this.props.year, this.props.page);\n    }\n  }\n\n  render() {\n    const options = [\n      { value: 'release_date', label: 'release date' },\n      { value: 'popularity', label: 'popularity' },\n      { value: 'revenue', label: 'revenue' },\n      { value: 'vote_average', label: 'vote average' },\n    ];\n    const years = [];\n    const currentYear = new Date().getFullYear();\n    for (let i = 2009; i <= currentYear; i++) {\n      years.push({ value: i, label: i });\n    }\n    const pages = [];\n    for (let i = 1; i <= 10; i++) {\n      pages.push(i);\n    }\n    const allPages = [];\n    for (let i = 1; i <= this.props.total_pages; i++) {\n      allPages.push(i);\n    }\n    console.log(allPages);\n    return (\n      <div>\n        <div>\n          <Select\n            onChange={(value) => { this.props.changeSort(value.value); }}\n            options={options}\n          />\n        </div>\n        <div>\n          <Select\n            onChange={(year) => { this.props.changeYear(year.value); }}\n            options={years}\n          />\n        </div>\n        <ul>\n          {this.props.items.map((item, index) => (\n            <li key={index}>\n              {item.title}\n              <br />\n              <img src={`https://image.tmdb.org/t/p/w300${item.backdrop_path}`} alt=\"img\" />\n            </li>\n          ))}\n        </ul>\n        <div>\n          <ul>\n            {pages.map((page, index) => (\n              <li key={index}>\n                <button\n                  type=\"button\"\n                  onClick={() => this.props.changePage(page)}\n                >\n                  {page}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { connect } from 'react-redux';\nimport {\n  getMoves,\n  data,\n  changeSort,\n  changeYear,\n  changePage,\n  getTotalPages,\n} from './redux';\nimport { App } from './App';\n\nconst mapStateToProps = state => ({\n  items: state.items,\n  sort: state.sort,\n  year: state.year,\n  page: state.page,\n  total_pages: state.total_pages,\n});\nconst mapDispatchToProps = {\n  getMoves,\n  data,\n  changeSort,\n  changeYear,\n  changePage,\n  getTotalPages,\n};\n\nexport const AppContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(App);\n\nexport default AppContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { AppContainer } from './AppContainer';\nimport './index.css';\nimport { store } from './redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}